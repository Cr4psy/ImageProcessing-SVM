Mat calculateHistogram(Mat img, int numbins)
{
    Mat hsv;
    Mat hist;
    // Convert the color from bgr to hsv
    cvtColor(img, hsv, CV_BGR2HSV);

    // Quantize the hue
    int hbins = nbins;
    int histSize[] = {hbins};

    // hue varies from 0 to 179, see cvtColor
    float hranges[] = { 0, 180 };

    const float* histRange = {hranges};

    int channels[] = {0};

    // we compute the histogram from the 0-th channel
    calcHist( &hsv, 1,channels, Mat(), // do not use mask
              hist, 1, &hbins, &histRange, true,false );

     return hist;
	
}

